<div class="filter">
  <form [formGroup]="filterForm">
    <div class="bordered">
      <div class="row">
        <div class="col">
          <mat-form-field appearance="outline" style="padding-bottom: 2px!important;">
            <mat-label>სათაური</mat-label>
            <input type='text' matInput formControlName='title'>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field appearance="outline" style="padding-bottom: 2px!important;">
            <mat-label>ავტორი</mat-label>
            <input type='text' matInput formControlName='author'>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field appearance="outline" style="padding-bottom: 2px!important;">
            <mat-label>საგნობრივი რუბრიკა</mat-label>
            <mat-select formControlName="subjectId">
              <mat-option></mat-option>
              <mat-option *ngFor="let subject of subjects" [value]="subject.id">
                {{subject.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field appearance="outline" style="padding-bottom: 2px!important;">
            <mat-label>ენა</mat-label>
            <mat-select formControlName="languageId">
              <mat-option></mat-option>
              <mat-option *ngFor="let language of languages" [value]="language.id">
                {{language.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field appearance="outline" style="padding-bottom: 2px!important;">
            <mat-label>გამომცემლობა</mat-label>
            <mat-select formControlName="publisherId">
              <mat-option></mat-option>
              <mat-option *ngFor="let publisher of publishers" [value]="publisher.id">
                {{publisher.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field appearance="outline" style="padding-bottom: 2px!important;">
            <mat-label>ეგზემპლარის N</mat-label>
            <input type='text' matInput formControlName='bookCopyCode'>
          </mat-form-field>
        </div>
        <div class="col vertically-centered">
          <button type="button"  color="accent" class="cancelBtn searchBtn filterBtn" mat-raised-button (click)="onFilterClick()">ძებნა</button>
          <button type="button"  color="accent" class="cancelBtn searchBtn filterBtn" mat-raised-button (click)="resetForm()">გასუფთავება</button>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="books">
  <div class="row">
    <div class="column" *ngFor="let book of booksDatasource">
      <mat-card>
        <mat-card-title>
          {{book.title? book.title.length < 20 ? book.title : book.title.substr(0, 15) + '...' : ''}}
        </mat-card-title>
        <mat-divider></mat-divider>
        <mat-card-subtitle>
          {{book.subtitle? book.subtitle.length < 20 ? book.subtitle : book.subtitle.substr(0, 15) + '...' : ''}}
        </mat-card-subtitle>
        <mat-card-content>
          <p>{{book.author? book.author.length < 25 ? book.author : book.author.substr(0, 20) + '...' : ''}}</p>
          <p>რუბრიკა: {{book.rubric?.name}} </p>
          <p>ენა: {{book.language?.name}} </p>
        </mat-card-content>
        <mat-card-actions>
            <button style="width: 100%" type="button" color="accent" mat-raised-button (click)="bookDetails(book.id)">დეტალურად</button>
        </mat-card-actions>
      </mat-card>
    </div>

  </div>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]" [pageSize]="10" showFirstLastButtons></mat-paginator>
</div>

